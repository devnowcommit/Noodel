<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/noodel@1.1.1/dist/noodel.css">
    <script src="https://cdn.jsdelivr.net/npm/noodel@1.1.1/dist/noodel.umd.min.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/prismjs@1.20.0/themes/prism.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.20.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.20.0/plugins/normalize-whitespace/prism-normalize-whitespace.min.js"></script>

    <link rel="stylesheet" type="text/css" href="styles.css">

    <title>Noodel</title>
</head>

<body>
    <noscript>
        <strong>We're sorry but this site doesn't work properly without JavaScript enabled. Please enable it to
            continue.</strong>
    </noscript>
    <div id="root" style="display: none;">
        <div class="noode">
            <h1 id="title">Noodel.js</h1>
            <h2 id="subtitle">Docs</h2>
            <hr>
            <p>
                <b>-- Controls --</b><br>
                <b>[Mouse]:</b> Hold click + drag (← ↑ → ↓)<br>
                <b>[Scroll wheel]:</b> Scroll (↑ ↓) / Hold click + scroll (← →)<br>
                <b>[Keyboard]:</b> Arrow keys (← ↑ → ↓)<br>
                <b>[Touch]:</b> Swipe (← ↑ → ↓)<br>
                <b>[Mouse/Touch]:</b> Tap on target<br>
            </p>
        </div>
        <div class="noode">
            <h2>Overview</h2>
            <div class="noode">
                <h3>Summary</h3>
                <p>
                    Noodel is a view component for presenting beautiful, dynamic content trees. Based on a
                    unique swipe-based design that is simple and intuitive.
                </p>
                <p>
                    Noodel is incredibly versatile. You can use it as part of your webpage or use it to
                    create and control a full site. As most types of content can be organized into trees,
                    you can use it for blogs, documentation, mindmaps and virtually anything else.
                </p>
                <p>
                    Currently available as a javascript library. Powered by <a target="_blank" href="https://vuejs.org/">Vue.js</a>.
                </p>
            </div>
            <div class="noode">
                <h3>How it works</h3>
                <p>
                    Noodel presents your content tree on an infinite canvas that you can navigate just by
                    moving up, down, left and right.
                </p>
                <p>
                    Blocks of content will show or hide as you move through the tree, keeping only the relevant
                    subtree visible.
                </p>
                <p>
                    It's like an infinite cascade of drop-down menus - only much more elegant and useful.
                </p>
            </div>
            <div class="noode">
                <h3>Why Noodel?</h3>
                <p>
                    Much of the content we encounter everyday naturally comes in tree structures.
                    Trees, however, are difficult to present on a viewing surface. Conventional
                    UI schemes tend to "flatten" trees into linear layouts - the most common offender being
                    lengthy vertical documents divided into many sections and subsections.
                    Trying to find the section you want can be an exercise.
                </p>
                <p>
                    This is sometimes helped by table of contents and navigation menus. But
                    such components occupy precious screen space (especially on mobile devices) and does not
                    scale well.
                </p>
                <p>
                    Noodel is a system design from the ground up for presenting content in a <i>better</i>
                    way - by directly integrating content with the navigation mechanism itself. This makes it much
                    easier to find and navigate to the piece of content you want. The whole experience is highly
                    intuitive and human-friendly as it invokes the spatial memory of the viewer.
                </p>
            </div>
            <div class="noode">
                <h3>...and other good things</h3>
                <ul>
                    <li>Flexible containers that grow or shrink to fit your content</li>
                    <li>Dynamic content insert/replace/delete that syncs with the view</li>
                    <li>Responsive design that behaves similarly regardless of screen size</li>
                    <li>Fully customizable look-and-feel via plain CSS</li>
                    <li>All animations based on CSS transitions as fast as your browser can optimize them</li>
                </ul>
            </div>
        </div>
        <div class="noode">
            <h2>Concepts</h2>
            <div class="noode">
                <h3>Noode</h3>
                <p>
                    The basic unit of content in Noodel is called a <i>noode</i> - just like the one you're looking
                    at right now.
                </p>
                <p>
                    Noodes are equivalent to <i>nodes</i> in a content tree.
                    Each noode contains a block of content. It can also have multiple ordered child noodes
                    that have their own blocks of sub-content. This can recurse infinitely to form a tree of any size.
                </p>
                <div class="noode">
                    <p>
                        The basic principle of Noodel is breaking down long form content into individual noodes.
                        A noode should never exceed the size of the viewport - a precondition for noode-based navigation.
                    </p>
                </div>
            </div>
            <div class="noode">
                <h3>Noodel</h3>
                <p>
                    A <i>noodel</i> (lower case) refers to a whole content tree formed by noodes.
                </p>
            </div>
            <div class="noode">
                <h3>Active child noode</h3>
                <p>
                    If a noode has children, it must have exactly 1 child that's <i>active</i>.
                    The descendents of the active child will be shown while the others hidden.
                </p>
            </div>
            <div class="noode">
                <h3>Active subtree</h3>
                <p>
                    This means that at any given time, only the noodes on the active child path starting
                    from the root is shown. This is called the <i>active subtree</i>.
                </p>
            </div>
            <div class="noode">
                <h3>Branch</h3>
                <p>
                    The container for a list of sibling noodes is called a <i>branch</i>.
                </p>
            </div>
            <div class="noode">
                <h3>Branch axis</h3>
                <p>
                    The axis on which noodes are ordered in branches is called the <i>branch axis</i>.
                    It is vertical (top to bottom) by default.
                </p>
                <div class="noode">
                    <p>
                        So when you swipe up and down, you are moving in the branch axis.
                    </p>
                </div>
            </div>
            <div class="noode">
                <h3>Trunk</h3>
                <p>
                    The container for the list of branches in the active subtree, ordered from ancestor
                    to descendents, is called the <i>trunk</i>.
                </p>
            </div>
            <div class="noode">
                <h3>Trunk axis</h3>
                <p>
                    The axis on which branches are ordered in the trunk is called the <i>trunk axis</i>.
                    It is horizontal (left to right) by default.
                </p>
                <div class="noode">
                    <p>
                        So when you swipe left and right, you are moving in the trunk axis.
                    </p>
                </div>
            </div>
            <div class="noode">
                <h3>Focal branch</h3>
                <p>
                    The branch that the view is currently focusing on is the <i>focal branch</i>.                 
                </p>
                <p>
                    Moving in the trunk axis changes the focal branch.
                </p>
            </div>
            <div class="noode">
                <h3>Focal noode</h3>
                <p>
                    The active noode inside the focal branch is the <i>focal noode</i>.                 
                </p>
                <p>
                    The focal noode is the noode the view is centred on, and represents the noode
                    that is currently interacting with the user.
                </p>
            </div>
        </div>
        <div class="noode">
            <h2>Guide</h2>
            <div class="noode">
                <h3>Installation</h3>
                <div class="noode">
                    <h3>Direct <code class="language-html">&lt;script&gt;</code> embed</h3>
                    <p>You can use Noodel by directly embedding its script and css from a CDN into your HTML:</p>
                    <pre data-prevent-nav-swipe>
                        <code class="language-html">
                            // You should specify the version number (e.g noodel@1.0.1) in production
                            &lt;script src="https://cdn.jsdelivr.net/npm/noodel/dist/noodel.umd.min.js"&gt;&lt;/script&gt;
                            &lt;link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/noodel/dist/noodel.css"&gt;
                        </code>
                    </pre>
                </div>
                <div class="noode">
                    <h3>NPM</h3>
                    <p>For more advanced projects with bundlers, install from npm:</p>
                    <pre data-prevent-nav-swipe>
                        <code class="language-shell">
                            npm install noodel
                        </code>
                    </pre>
                    <p>And import into your code:</p>
                    <pre data-prevent-nav-swipe>
                        <code class="language-js">
                            import Noodel from 'noodel'

                            // Don't forget to also include the css somewhere in your project, e.g.
                            // import '../node_modules/noodel/dist/noodel.css' 
                        </code>
                    </pre>
                </div>
            </div>
            <div class="noode">
                <h3>Basic usage</h3>
                <div class="noode">
                    <h3>Creating a noodel</h3>
                    <p>The basic syntax for creating a noodel and mounting it on the page is:</p>
                    <pre data-prevent-nav-swipe>
                        <code class="language-js">
                            new Noodel(root).mount("#target");
                        </code>
                    </pre>
                    <p>
                        where <i>root</i> is an element selector or object that specifies the root
                        of the content tree, and <i>#target</i> is the target element for mounting the noodel.
                    </p>
                    <div class="noode">
                        <p>
                            Mounting will <i>replace</i> the target element with
                            the noodel's DOM tree. By default, the noodel will expand to
                            100% width and 100% height of its container, so you should specify
                            the size of the parent element to control the noodel's size, e.g.
                        </p>
                        <pre data-prevent-nav-swipe>
                            <code class="language-html">
                                &lt;div id="container" style="width: 800px; height: 800px"&gt;
                                    &lt;div id="noodel"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                            </code>
                        </pre>
                    </div>
                </div>
                <div class="noode">
                    <h3>Defining content tree via HTML</h3>
                    <p>
                        There are two ways to define the content tree that will be used by a noodel.
                        For sites driven by static HTML templates, you can define the tree via HTML and
                        give its root element to the constructor:
                    </p>
                    <pre data-prevent-nav-swipe>
                        <code class="language-html">
                            &lt;div id="root" style="display: none;"&gt;
                                &lt;div class="noode"&gt;
                                    &lt;p&gt;My first noode&lt;/p&gt;
                                &lt;/div&gt;
                                &lt;div class="noode"&gt;
                                    &lt;p&gt;My second noode&lt;/p&gt;
                                    &lt;div class="noode"&gt;
                                        &lt;p&gt;First child of my second noode&lt;/p&gt;
                                    &lt;/div&gt;
                                    &lt;div class="noode"&gt;
                                        &lt;p&gt;Second child of my second noode&lt;/p&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;

                            &lt;script&gt;new Noodel("#root").mount("#root")&lt;/script&gt;
                        </code>
                    </pre>
                    <div class="noode">
                        <h3>The specifics</h3>
                        <p>
                            Noodel will traverse the descendents of the root element and convert
                            all <code class="language-html">&lt;div&gt;</code>s with 
                            <code class="language-html">class="noode"</code> into
                            noodes of the tree, keeping all parent-child relationships. Any text or
                            elements inside a noode that are not child noodes will be treated as the
                            <i>content</i> of that noode, concatenated in the order they appear.
                        </p>
                        <p>
                            This contatenation preserves the markup of content elements
                            so you have complete freedom in structuring and styling the content 
                            of each noode. Note this does not apply
                            to the <code class="language-html">&lt;div&gt;</code>s that serve as
                            indicators for noodes, as they will be removed from the final DOM.
                        </p>
                    </div>
                    <div class="noode">
                        <h3>Noodel creates its own DOM tree</h3>
                        <p>
                            Also note that the original DOM nodes will not be used in the noodel, as a
                            new DOM subtree will be created for it.
                            This means any side effects such as event listeners attached to the original
                            nodes will not be preserved.
                        </p>
                        <p>
                            By mounting a noodel on the root of the original DOM tree (as in the example),
                            the original tree will be destroyed and replaced by that of the noodel. This is usually
                            the behavior you want.
                        </p>
                    </div>
                </div>
                <div class="noode">
                    <h3>Defining content tree via object</h3>
                    <p>
                        Alternatively, for dynamic sites driven by javascript, you can specify 
                        the content tree as a tree of objects:
                    </p>
                    <pre data-prevent-nav-swipe>
                        <code class="language-js">
                            let root = {
                                children: [
                                    {
                                        content: "&lt;p&gt;My first noode&lt;/p&gt;"
                                    },
                                    {
                                        content: "&lt;p&gt;My second noode&lt;/p&gt;"
                                        children: [
                                            {
                                                content: "&lt;p&gt;First child of my second noode&lt;/p&gt;"
                                            },
                                            {
                                                content: "&lt;p&gt;Second child of my second noode&lt;/p&gt;"
                                            },
                                        ]
                                    }
                                ]
                            }

                            new Noodel(root).mount("#target");
                        </code>
                    </pre>
                </div>
            </div>
            <div class="noode">
                <h3>Configuring noodel</h3>
                <div class="noode">
                    <h3>Options</h3>
                    <p>
                        To configure global options for a noodel, add an options object to the constructor: 
                    </p>
                    <pre data-prevent-nav-swipe>
                        <code class="language-js">
                            const options = {
                                visibleSubtreeDepth: 10,
                                swipeFrictionBranch: 0.1
                            };

                            new Noodel(root, options).mount("#target");
                        </code>
                    </pre>
                </div>
                <div class="noode">
                    <h3>Changing options dynamically</h3>
                    <p>
                        You can set options on-the-fly at any time and they will be merged into
                        the existing options: 
                    </p>
                    <pre data-prevent-nav-swipe>
                        <code class="language-js">
                            const noodel = new Noodel(root);
                            
                            noodel.mount("#target");
                            
                            // after some time

                            const newOps = {
                                swipeFrictionBranch: 0.3
                            };

                            noodel.setOptions(newOps);
                        </code>
                    </pre>
                </div>
            </div>
            <div class="noode">
                <h3>Configuring noodes</h3>
                <div class="noode">
                    <h3>Specifying noode ID</h3>
                    <p>
                        By default, a unique ID will be generated for each noode in a noodel, which will
                        be used for various purposes. You can provide your own ID for noodes using a data attribute:
                    </p>
                    <pre data-prevent-nav-swipe>
                        <code class="language-html">
                            &lt;div class="noode" data-id="myCustomId"&gt;
                                ...
                            &lt;/div&gt;
                        </code>
                    </pre>
                    <p>or in object syntax:</p>
                    <pre data-prevent-nav-swipe>
                        <code class="language-js">
                            let noodeWithCustomId = {
                                id: "myCustomId",
                                content: "A special noode"
                            }
                        </code>
                    </pre>
                    <div class="noode">
                        <p>
                            Your custom ID must be unique and should not start with "_" as it may conflict
                            with Noodel's default IDs.
                        </p>
                    </div>
                </div>
                <div class="noode">
                    <h3>Specifying initial active child</h3>
                    <p>
                        By default, the initial active child for each noode is at index 0 (the first child).
                        You can specify another child to be initially active by using:
                    </p>
                    <pre data-prevent-nav-swipe>
                        <code class="language-html">
                            &lt;div class="noode" data-active&gt;
                                ...
                            &lt;/div&gt;
                        </code>
                    </pre>
                    <p>or in object syntax:</p>
                    <pre data-prevent-nav-swipe>
                        <code class="language-js">
                            let noodeWith4thChildActive = {
                                activeChildIndex: "3",
                                content: "A special noode"
                            }
                        </code>
                    </pre>
                </div>
                <div class="noode">
                    <h3>Preventing navigation events</h3>
                    <p>
                        By default, a noodel responds to three types of user input for navigation:
                        swipe (mouse drag), scroll wheel, and arrow keys. Navigation will occur even
                        when such input originates from content elements inside noodes.
                    </p>
                    <p>
                        There are situations where such behavior is not ideal, for example when you have
                        a selectable textarea inside a noode. To prevent navigation behavior from an element,
                        apply <code class="language-html">data-prevent-nav-swipe</code>, 
                        <code class="language-html">data-prevent-nav-wheel</code>,
                        <code class="language-html">data-prevent-nav-key</code> attributes to 
                        prevent swipe, wheel, and keyboard events accordingly, or 
                        <code class="language-html">data-prevent-nav-all</code> for all three.
                    </p>
                    <pre data-prevent-nav-swipe>
                        <code class="language-html">
                            &lt;div class="noode"&gt;
                                &lt;textarea data-prevent-nav-swipe data-prevent-nav-key&gt;&lt;/textarea&gt;
                            &lt;/div&gt;
                        </code>
                    </pre>
                    <div class="noode">
                        <p>
                            Note this only takes effect when the element is inside the focal
                            noode (i.e events outside the focal noode will always trigger).
                        </p>
                    </div>
                </div>
            </div>
            <div class="noode">
                <h3>Changing the view dynamically</h3>
                <div class="noode">
                    <h3>The view model</h3>
                    <p>
                        The object you get when you create a noodel is its view model. It has 2-way binding
                        with the view, and you can perform operations on it to change the view dynamically.
                    </p>
                    <pre data-prevent-nav-swipe>
                        <code class="language-js">
                            // view model
                            const noodel = new Noodel(root);

                            noodel.mount("target");
                        </code>
                    </pre>
                    <p>
                        Use functions such as <code class="language-js">noodel.getFocalNoode()</code>, 
                        <code class="language-js">noodel.findNoodeById()</code> to get the view model
                        for individual noodes. See API for details.
                    </p>
                </div>
                <div class="noode">
                    <h3>Programmatic navigation</h3>
                    <p>
                        Use functions such as <code class="language-js">noodel.setFocalLevel()</code>, 
                        <code class="language-js">noodel.moveForward()</code> to change the focal noode.
                        See API for details.
                    </p>
                </div>
                <div class="noode">
                    <h3>Replacing noode content</h3>
                    <p>
                        You can replace the content of a noode at any time:
                    </p>
                    <pre data-prevent-nav-swipe>
                        <code class="language-js">
                            const noodel = new Noodel({
                                children: [
                                    {
                                        content: "old"
                                    }
                                ]
                            });

                            noodel.getRoot().getChild(0).setContent("new");
                        </code>
                    </pre>
                    <div class="noode">
                        <p>
                            Note this replaces the original content by setting the innerHTML of the noode.
                            The original content elements will be removed.
                        </p>
                    </div>
                    <div class="noode">
                        <p>
                            If your noodes have flexible sizing, they will grow or shrink to fit the content
                            as appropriate.
                        </p>
                    </div>
                </div>
            </div>
            <div class="noode">
                <h3>Styling</h3>
                <div class="noode">
                    <p>Coming soon!</p>
                </div>
            </div>
            <div class="noode">
                <h3>Tips and caveats</h3>
                <div class="noode">
                    <h3>Scrolling inside noodes</h3>
                    <p>
                        The core principle of Noodel is breaking down content into noodes. Because
                        each noode has a limited space, as a general rule, you should try to break down
                        long form content into bite-sized pieces that can fit into individual noodes.
                        You should also style your content so they do not exeeed their noode containers
                        for your target screen size.
                    </p>
                    <p>
                        There are situations, however, where this is not practical. As such, noodes by default
                        have <code class="language-css">overflow: auto</code>, which means each noode can be
                        a scrollable area by itself. This unfortunately conflicts with Noodel's navigation mechanism,
                        so certain tricks have been applied to make them play nice as much as possible. 
                    </p>
                    <p>
                        This adjusted scrolling behavior comes with some pitfalls, and may not be consistent across browsers and
                        environments. As such, you should avoid overflow content within noodes unless
                        really necessary. If you do have overflow content, you must
                        use the noode container's scrolling context instead of an internal element's to get the adjusted
                        scroll behavior. 
                    </p>
                </div>        
            </div>
        </div>
        <div class="noode">
            <h2>API</h2>
            <div class="noode">
                <p>Coming soon!</p>
            </div>
        </div>
        <div class="noode">
            <p>
                MIT License<br>
                © 2019-2020 Zuohao (Jonny) Lu
            </p>
        </div>
    </div>
    <script>
        new Noodel("#root").mount("#root");
    </script>
</body>

</html>